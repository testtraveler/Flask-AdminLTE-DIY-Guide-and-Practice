# 系统角色与权责指南 (修改版)

**位置信息作为可选字段**，支持三种模式：
   - 客户自填
   - 程序自动获取（GPS/IP）
   - 程序获取 + 客户修改

---

## 后台管理员（Platform Administrator）

### 登录后首页

- 全局仪表盘  
  合同状态环形图：总数 100 | 有效 75 | 临期 15 | 到期 10 | 失效 20  
  工单状态数字卡片：待分派 5 | 处理中 22 | 挂起 3 | 异常 2  
  服务请求数字卡片：待处理请求 8（需管理员审核并指派）

### 主菜单

#### A. 合同管理

##### A-1 合同状态看板

- 颜色块：绿色（有效）| 黄色（临期 ≤30 天）| 红色（到期）| 黑色（失效）
- 点击任一色块 → 列表自动筛选对应状态

##### A-2 合同列表

- 工具栏：搜索框 | 排序（预定义规则|自定义规则）| 筛选 | 删除选中 | 导出选中
- 列表字段：合同编号 | 主体 | 客户管理员（点击弹联系方式） | 签订时间 | 到期时间 | 状态
- 行内操作：合同详情（含履行状态：巡检进度条、故障记录） | 编辑 | 删除 | 导出

##### A-3 新增合同

- 单选框：手动新增 | 文件导入（.csv/.xls/.xlsx）
- 表单：编号、主体、客户管理员、签订时间、到期时间、状态、附件上传

#### B. 工单管理

##### B-1 工单状态看板

- 颜色块： 请求中 | 请求取消 | 草稿 | 待分派（待指派代维工程师） | 挂起 | 处理中 | 验证中 | 异常 | 已完成 | 已归档 | 已中断

##### B-2 工单列表

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中
- 列表字段：工单编号 | 主体 | 类型 | 标题 | 发起人 | 代维工程师 | 创建时间 | 更新时间 | 状态
- 行内操作：详情 | 标记状态（请求取消/草稿/异常/已归档） | 编辑 | 删除 | 归档 | 取消 | 重新分派 | 导出

##### B-3 派单

- 弹窗：选择代维工程师 → 保存

#### C. 请求审核

- 工具栏：搜索 | 排序 | 筛选 | 导出选中
- 列表字段：工单编号 | 类型 | 标题 | 客户名称 | 客户联系方式 | 要求完成时间 | 创建时间 | 更新时间
- 行内操作：详情 | 审核 | 驳回

#### D. 角色管理

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中 | 导入
- 列表字段：角色ID | 角色编码 | 名称 | 权限描述 | 创建/更新时间
- 行内操作：详情 | 编辑 | 删除 | 角色分配（查看已分配用户）| 设置权限

#### E. 用户管理

##### E-1 用户组

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中 | 导入
- 列表字段：组编号 | 组名称 | 主体 | 角色 | 权限 | 创建/更新时间
- 行内操作：编辑 | 删除 | 设置角色 | 设置权限

##### E-2 用户列表

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中 | 导入
- 列表字段：账号ID | 用户名 | 手机号 | 邮箱 | 主体 | 所属组 | 启用状态 | 最后登录时间
- 行内操作：编辑 | 删除 | 启用 | 禁用 | 重置密码 | 设置权限

#### F. 资源管理

##### F-1 基础资源管理

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中 | 导入 | 组合业务资源
- 列表字段：资源ID | 名称 | 类型 | 状态 | 创建时间 | 更新时间
- 行内操作：详情 | 编辑 | 删除

##### F-2 业务资源管理

- 工具栏：搜索 | 排序 | 筛选 | 删除选中 | 导出选中 | 导入 | 组合业务资源
- 列表字段：资源ID | 名称 | 类型 | 状态 | 创建时间 | 更新时间
- 行内操作：详情 | 编辑 | 删除 | 挂靠 | 解除挂靠

#### G. 告警管理

- 工具栏：搜索 | 排序 | 筛选
- 列表字段：告警ID | 分类 | 级别 | 标题 | 关联主体 | 关联工单 | 关联合同 | 客户已读状态 | 创建/更新时间
- 行内操作：详情 | 编辑 | 删除

#### H. 反馈管理

- 工具栏：搜索 | 排序 | 筛选
- 列表字段：反馈ID | 提交账号ID | 评分类型 | 评分值 | 提交时间
- 行内操作：详情 | 回复

#### J. 日志管理

##### J-1 审计日志

- 工具栏：搜索 | 排序 | 筛选 | 导出选中 | 清空日志
- 列表字段：账户ID | 用户名 | 操作类型 | 详情 | 时间
- 行内操作：详情 | 导出

##### J-2 登录日志

- 工具栏：搜索 | 排序 | 筛选 | 导出选中 | 清空日志
- 列表字段：账户ID | 用户名 | 登录状态 | 登录时间
- 行内操作：导出

##### J-3 运行日志

- 实时展示数据库 log 文件

---

## 代维工程师（Maintenance Engineer）

### 登录后首页

- 个人工作台  
  工单看板：新工单（挂起） 2 | 处理中 5 | 已完成 45 | 异常 1

### 主菜单

#### A. 我的工单

- 工具栏：搜索 | 排序 | 筛选
- 列表字段：工单编号 | 类型 | 标题 | 状态 | 客户名称 | 客户联系方式 | 要求完成时间 | 创建/更新时间
- 行内操作：工单详情（包含设备关联情况，合同详情） | 标记状态（下拉：挂起/处理中/已完成（实际后台和客户看到是验证中）/异常）

#### B. 代维设备

- 工具栏：搜索 | 排序 | 筛选
- 列表字段：设备ID | 名称 | 类型 | 状态 | 地点（支持位置信息） | 开始代维时间 | 结束代维时间 | 代维范围
- 行内操作：设备详情（内嵌关联工单情况，合同详情）

---

## 客户管理员（Customer Administrator）

### 登录后首页

- 公司服务概览  
  合同卡片：有效 5 | 临期 1 | 到期 0 | 失效 0  
  工单卡片：请求中 1 | 请求取消 1 | 待派单 1 | 待派工 0 | 挂起 0 | 处理中 2 | 验证中 0 | 已完成 12 | 异常 0 | 已中断 0

### 主菜单

#### A. 用户管理

##### A-1. 角色管理（同后台管理员菜单，但仅本公司数据）

##### A-2. 用户组 / 用户列表（同上）

#### B. 合同页面

- 工具栏：搜索 | 排序 | 筛选 | 导出选中
- 列表字段：合同编号 | 客户管理员 | 签订/到期时间 | 状态 | 履行状态（进度条）
- 行内操作：合同详情（含巡检进度、故障记录） | 导出

#### C. 工单管理

- 工具栏：搜索 | 排序 | 筛选 | 发起服务请求（支持文本、图片、视频上传，视频自动降质）
- 列表字段：工单编号 | 类型 | 标题 | 状态 | 代维工程师 | 要求完成时间 | 创建/更新时间
- 行内操作：工单详情（内嵌关联设备，合同） | 标记状态（已完成/异常/已中断） | 删除

#### D. 代维设备

- 工具栏：搜索 | 排序 | 筛选
- 列表字段：设备ID | 名称 | 类型 | 状态 | 地点（支持位置信息） | 开始代维时间 | 结束代维时间 | 代维范围
- 行内操作：设备详情（内嵌关联工单，合同）

---

## 客户（Customer User）

### 登录后首页

- 个人视图（由客户管理员授权可见，同客户管理员）

### 主菜单

#### A. 合同页面（由客户管理员授权可见）

同客户管理员

#### B. 工单管理（由客户管理员授权可见）

同客户管理员

#### C. 代维设备（由客户管理员授权可见）

同客户管理员

---